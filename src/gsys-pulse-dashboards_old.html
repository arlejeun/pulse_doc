<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../bower_components/paper-subheader/paper-subheader.html">
<link rel="import" href="../bower_components/poly-filter/poly-filter.html">
<link rel="import" href="../bower_components/iron-grid/iron-grid.html">
<link rel="import" href="../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/poly-filter/demo/demo-list.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../bower_components/paper-carousel/paper-carousel.html">
<link rel="import" href="../bower_components/vaadin-split-layout/vaadin-split-layout.html">


<link rel="import" href="pulse-template-elt.html">
<link rel="import" href="shared-styles.html">


  <dom-module id="gsys-pulse-dashboards">

  <template>

      <style include="shared-styles" is="custom-style">

          .description {
            width: 40%
            margin:20px;
          }

          .description.h1 {
            margin:20px;
          }

          paper-card {
              min-width: 250px;
          }

          paper-card.rate { @apply(--layout-horizontal); }

          .rate-image {
            width: 300px;
            height: 170px;
            background: url('../images/Dashboard_01.png');
            background-size: cover;
          }
          .rate-content {
            @apply(--layout-flex);
            float: left;
          }
          .rate-header { @apply(--paper-font-headline); }
          .rate-name { color: var(--paper-grey-600); margin: 10px 0; }
          paper-icon-button.rate-icon {
            --iron-icon-fill-color: white;
            --iron-icon-stroke-color: var(--paper-grey-600);
          }

          .content img {
            max-height: 250px;
          }

          .paper-card-0 {

          }

          .slide {
            /*height:500px;*/
          }

          .grid figure {
              position: relative;
              float: left;
              overflow: hidden;
              text-align: center;
              cursor: pointer;
            }

            .grid figure img {
              position: relative;
              display: block;
              min-height: 100%;
              max-width: 100%;
              opacity: 1;
            }

            .grid figure figcaption {
              padding: 1em;
              color: #111;
              font-size: 1.25em;
              -webkit-backface-visibility: hidden;
              backface-visibility: hidden;
            }

            .grid figure figcaption::before,
            .grid figure figcaption::after {
              pointer-events: none;
            }

            .grid figure figcaption {
              position: absolute;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
            }

            .grid figure p {
              margin: 0;
            }

            .grid figure p {
              letter-spacing: 1px;
              font-size: 68.5%;
              -webkit-filter: blur(0) !important;
              filter: blur(0) !important;
            }

            /*---------------*/

            figure.effect-park {
              background-color: #000000;
                border-radius: 5%;
                z-index: 1;
            }

            figure.effect-park img {
                z-index: 0;
              opacity: 0.5;
              -webkit-filter: blur(1.5px);
              filter: blur(1.5px);
              -webkit-transform: scale(1.15);
              transform: scale(1.15);
              -webkit-transition: opacity 0.2s, -webkit-transform 0.2s;
              transition: opacity 0.2s, transform 0.2s;

            }

            figure.effect-park:hover img {
              opacity: 1;
              -webkit-filter: blur(0);
              filter: blur(0);
              -webkit-transform: scale(1);
              transform: scale(1);
            }

            figure.effect-park p {
              opacity: 1;
              padding: 13px;
              -webkit-transition: opacity 0.2s, -webkit-transform 0.2s;
              transition: opacity 0.2s, transform 0.2s;
              -webkit-transform: translate3d(0,20px,0) scale(1.1);
              transform: translate3d(0,20px,0) scale(1.1);
            }

            figure.effect-park:hover p {
              -webkit-transform: translate3d(0,0,0) scale(1);
              transform: translate3d(0,0,0) scale(1);
              opacity: 0;
            }

      </style>

          <app-route
            route="{{route}}"
            pattern="/:templateId"
            data="{{routeData}}">
          </app-route>

              <!--
      shop-category-data provides the category data for a given category name.
    -->

      <market-category-data
        id="categoryData"
        category-name="[[_computeCategoryName(route)]]"
        category="{{category}}"
        failure="{{failure}}">
      </market-category-data>


    <!--  <paper-toolbar class="subheader">
          <span class="title">Out-of-box Pulse Dashboards</span>
          <paper-input label="search" value="{{filterString}}"></paper-input>
          <paper-icon-button icon="refresh"></paper-icon-button>
          <paper-icon-button icon="add">+</paper-icon-button>
          <paper-icon-button icon="menu"></paper-icon-button>
      </paper-toolbar>

          <div class="vertical-section">
            <poly-filter
              array-to-filter="[[_getListItems(category.items)]]"
              filter="[[filterString]]"
              filtered-array="{{filteredItems}}"
              filterDebounceDelay="300">
            </poly-filter>
          </div>
      -->

             <div class="card carousel">

                   <paper-carousel items="3" responsive="600:2, 460:1" controls="true" dots="true" dotText="false">


                      <div class="slide paper-carousel-demo-indigo" data-text="#1">
                        <paper-card>
                                <div class="content">
                                  <img src="../images/Pulse_Billing_Dashboard.png"></img>
                                </div>
                                <div class="card-content">
                                  Emmentaler or Emmental is a yellow, medium-hard cheese that originated in the area around Emmental, Switzerland. It is one of the cheeses of Switzerland, and is sometimes known as Swiss cheese.
                                </div>
                                <div class="card-actions">
                                  <paper-button>Explore!</paper-button>
                                </div>
                        </paper-card>

                      </div>

                      <div class="paper-carousel-demo-pink" data-text="#2">

                            <paper-card>
                                <div class="content">
                                  <img src="../images/Pulse_Wallboard.png"></img>
                                </div>
                                <div class="card-content">
                                  Emmentaler or Emmental is a yellow, medium-hard cheese that originated in the area around Emmental, Switzerland. It is one of the cheeses of Switzerland, and is sometimes known as Swiss cheese.
                                </div>
                                <div class="card-actions">
                                  <paper-button>Explore!</paper-button>
                                </div>
                            </paper-card>

                      </div>


                      <div class="paper-carousel-demo-teal" data-text="#3">

                             <paper-card heading="Top western road trips">
                                <div class="content">
                                  <img src="../images/Engagement_Summary_Dashboard.png"></img>
                                </div>
                                <div class="card-content">
                                  Emmentaler or Emmental is a yellow, medium-hard cheese that originated in the area around Emmental, Switzerland.
                                </div>
                                <div class="card-actions">
                                  <paper-button>Explore!</paper-button>
                                </div>
                            </paper-card>

                      </div>

                      <div class="paper-carousel-demo-amber" data-text="#4">
                      <paper-card>
                                <div class="content">
                                  <img src="../images/Pulse_Dashboard.png"></img>
                                </div>
                                <div class="card-content">
                                  Emmentaler or Emmental is a yellow, medium-hard cheese that originated in the area around Emmental, Switzerland. It is one of the cheeses of Switzerland, and is sometimes known as Swiss cheese.
                                </div>
                                <div class="card-actions">
                                  <paper-button>Explore!</paper-button>
                                </div>
                        </paper-card>
                      </div>


                      <div class="paper-carousel-demo-blue" data-text="#5">

                         <paper-card>
                                <div class="content">
                                  <img src="../images/Web_Traffic_Dashboard.png"></img>
                                </div>
                                <div class="card-content">
                                  Emmentaler or Emmental is a yellow, medium-hard cheese that originated in the area around Emmental, Switzerland. It is one of the cheeses of Switzerland, and is sometimes known as Swiss cheese.
                                </div>
                                <div class="card-actions">
                                  <paper-button>Explore!</paper-button>
                                </div>
                        </paper-card>
                      </div>

                      <div data-text="#6">



                      </div>

                  </paper-carousel>

            </div>





                <div class="card carousel">

                   <paper-carousel items="3" responsive="600:2, 460:1" controls="true" dots="true" dotText="false">


                      <div class="slide paper-carousel-demo-indigo" data-text="#1">

                        <paper-card heading="Top western road trips" image="../images/Web_Traffic_Dashboard.png" alt="Sailboat Harbor" class="white">
                            <div class="card-content">1,000 miles of wonder</div>
                            <div class="card-actions">
                              <paper-button>Share</paper-button>
                              <paper-button>Explore</paper-button>
                              <paper-icon-button icon="hardware:keyboard-arrow-up" title="more info" onclick="_toggle()" style="float:right;">
                              </paper-icon-button class="paper-carousel-demo-blue">
                              <iron-collapse id="more-info" style="width:100%;">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent enim ante, tempus eget volutpat ac, cursus ac ante. Nulla facilisi. Praesent sed lacinia ligula. Donec malesuada nisl eget quam iaculis, vel placerat justo cursus.
                              </iron-collapse>
                              <script>
                                function _toggle() {
                                  var moreInfo = document.getElementById('more-info');
                                  var iconButton = Polymer.dom(event).localTarget;
                                  iconButton.icon = moreInfo.opened ? 'hardware:keyboard-arrow-up'
                                                                    : 'hardware:keyboard-arrow-down';
                                  moreInfo.toggle();
                                }
                              </script>
                            </div>
                          </paper-card>

                      </div>

                      <div class="paper-carousel-demo-pink" data-text="#2">

                        <paper-card heading="Top western road trips" image="../images/Web_Traffic_Dashboard.png" alt="Sailboat Harbor" class="white">
                            <div class="card-content">1,000 miles of wonder</div>
                            <div class="card-actions">
                              <paper-button>Share</paper-button>
                              <paper-button>Explore</paper-button>
                              <paper-icon-button icon="hardware:keyboard-arrow-up" title="more info" onclick="_toggle()" style="float:right;">
                              </paper-icon-button class="paper-carousel-demo-blue">
                              <iron-collapse id="more-info" style="width:100%;">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent enim ante, tempus eget volutpat ac, cursus ac ante. Nulla facilisi. Praesent sed lacinia ligula. Donec malesuada nisl eget quam iaculis, vel placerat justo cursus.
                              </iron-collapse>
                              <script>
                                function _toggle() {
                                  var moreInfo = document.getElementById('more-info');
                                  var iconButton = Polymer.dom(event).localTarget;
                                  iconButton.icon = moreInfo.opened ? 'hardware:keyboard-arrow-up'
                                                                    : 'hardware:keyboard-arrow-down';
                                  moreInfo.toggle();
                                }
                              </script>
                            </div>
                          </paper-card>

                      </div>


                      <div class="paper-carousel-demo-teal" data-text="#3">

                        <paper-card heading="Top western road trips" image="../images/Web_Traffic_Dashboard.png" alt="Sailboat Harbor" class="white">
                            <div class="card-content">1,000 miles of wonder</div>
                            <div class="card-actions">
                              <paper-button>Share</paper-button>
                              <paper-button>Explore</paper-button>
                              <paper-icon-button icon="hardware:keyboard-arrow-up" title="more info" onclick="_toggle()" style="float:right;">
                              </paper-icon-button class="paper-carousel-demo-blue">
                              <iron-collapse id="more-info" style="width:100%;">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent enim ante, tempus eget volutpat ac, cursus ac ante. Nulla facilisi. Praesent sed lacinia ligula. Donec malesuada nisl eget quam iaculis, vel placerat justo cursus.
                              </iron-collapse>
                              <script>
                                function _toggle() {
                                  var moreInfo = document.getElementById('more-info');
                                  var iconButton = Polymer.dom(event).localTarget;
                                  iconButton.icon = moreInfo.opened ? 'hardware:keyboard-arrow-up'
                                                                    : 'hardware:keyboard-arrow-down';
                                  moreInfo.toggle();
                                }
                              </script>
                            </div>
                          </paper-card>

                      </div>

                      <div class="paper-carousel-demo-amber" data-text="#4">
                        <paper-card heading="Top western road trips" image="../images/Web_Traffic_Dashboard.png" alt="Sailboat Harbor" class="white">
                            <div class="card-content">1,000 miles of wonder</div>
                            <div class="card-actions">
                              <paper-button>Share</paper-button>
                              <paper-button>Explore</paper-button>
                              <paper-icon-button icon="hardware:keyboard-arrow-up" title="more info" onclick="_toggle()" style="float:right;">
                              </paper-icon-button class="paper-carousel-demo-blue">
                              <iron-collapse id="more-info" style="width:100%;">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent enim ante, tempus eget volutpat ac, cursus ac ante. Nulla facilisi. Praesent sed lacinia ligula. Donec malesuada nisl eget quam iaculis, vel placerat justo cursus.
                              </iron-collapse>
                              <script>
                                function _toggle() {
                                  var moreInfo = document.getElementById('more-info');
                                  var iconButton = Polymer.dom(event).localTarget;
                                  iconButton.icon = moreInfo.opened ? 'hardware:keyboard-arrow-up'
                                                                    : 'hardware:keyboard-arrow-down';
                                  moreInfo.toggle();
                                }
                              </script>
                            </div>
                          </paper-card>
                      </div>


                      <div class="paper-carousel-demo-blue" data-text="#5">

                        <paper-card heading="Top western road trips" image="../images/Web_Traffic_Dashboard.png" alt="Sailboat Harbor" class="white">
                            <div class="card-content">1,000 miles of wonder</div>
                            <div class="card-actions">
                              <paper-button>Share</paper-button>
                              <paper-button>Explore</paper-button>
                              <paper-icon-button icon="hardware:keyboard-arrow-up" title="more info" onclick="_toggle()" style="float:right;">
                              </paper-icon-button class="paper-carousel-demo-blue">
                              <iron-collapse id="more-info" style="width:100%;">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent enim ante, tempus eget volutpat ac, cursus ac ante. Nulla facilisi. Praesent sed lacinia ligula. Donec malesuada nisl eget quam iaculis, vel placerat justo cursus.
                              </iron-collapse>
                              <script>
                                function _toggle() {
                                  var moreInfo = document.getElementById('more-info');
                                  var iconButton = Polymer.dom(event).localTarget;
                                  iconButton.icon = moreInfo.opened ? 'hardware:keyboard-arrow-up'
                                                                    : 'hardware:keyboard-arrow-down';
                                  moreInfo.toggle();
                                }
                              </script>
                            </div>
                          </paper-card>

                      </div>

                      <div data-text="#6">

                        <paper-card heading="Top western road trips" image="../images/Web_Traffic_Dashboard.png" alt="Sailboat Harbor" class="white">
                            <div class="card-content">1,000 miles of wonder</div>
                            <div class="card-actions">
                              <paper-button>Share</paper-button>
                              <paper-button>Explore</paper-button>
                              <paper-icon-button icon="hardware:keyboard-arrow-up" title="more info" onclick="_toggle()" style="float:right;">
                              </paper-icon-button class="paper-carousel-demo-blue">
                              <iron-collapse id="more-info" style="width:100%;">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent enim ante, tempus eget volutpat ac, cursus ac ante. Nulla facilisi. Praesent sed lacinia ligula. Donec malesuada nisl eget quam iaculis, vel placerat justo cursus.
                              </iron-collapse>
                              <script>
                                function _toggle() {
                                  var moreInfo = document.getElementById('more-info');
                                  var iconButton = Polymer.dom(event).localTarget;
                                  iconButton.icon = moreInfo.opened ? 'hardware:keyboard-arrow-up'
                                                                    : 'hardware:keyboard-arrow-down';
                                  moreInfo.toggle();
                                }
                              </script>
                            </div>
                          </paper-card>

                      </div>

                  </paper-carousel>

            </div>


    </template>

  <script>

      Polymer({

        is:"gsys-pulse-dashboards",

        properties:{
          category: Object,
          route: Object,
          routeData: Object,
          visible: Boolean,
          failure: Boolean
      },

      switchPages: function() {
        this.$.pulseContent.select(this.routeData.category);
       },

       asyncSwitchPages: function(e) {
        this.async(this.switchPages);
       },

       ready: function() {
       },

      observers: [
        '_categoryChanged(category, visible)'
      ],


      _computeCategoryName: function(route){
          let urlPath = route.prefix + route.path;
          return urlPath.replace(/\//g,"_").slice(1) || 'pulse-dashboards';
      },


      _categoryChanged: function(category, visible) {
        if (visible) {
          this.debounce('change-section', function() {
            // Notify the category and the page's title
            this.fire('change-section', {
              category: category.name,
              title: category.title
            });
          });
        }
      },

      _getListItems: function(items) {
        // Return placeholder items when the items haven't loaded yet.
        //return items || [{},{},{},{},{},{},{},{},{},{}];
        return items;
      },

      _getItemHref: function(item) {
        // By returning null when `itemId` is undefined, the href attribute won't be set and
        // the link will be disabled.
        return item.name ? ['/detail', this.category.name, item.name].join('/') : null;
      },

      _refreshGrid: function() {
          this.debounce('refreshGrid', function () {
              console.log('_refreshGrid' + this.$.grid.applyResponsive);
              this.$.grid.applyResponsive(this.$.grid.currentScreenformat, this.$.grid.currentScreenformat);
            }, 100);
      },

       _pageChanged: function(page) {
        // Load page import on demand. Show 404 page if fails
        var resolvedPageUrl = this.resolveUrl('gsys-' + page + '.html');
        this.importHref(resolvedPageUrl, null, this._showPage404, true);
      },

      _showPage404: function() {
          this.page = 'view404';
      }

      });
  </script>

</dom-module>
